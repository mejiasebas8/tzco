// index.html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Particle Flower</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            justify-content: center;
        }
        
        h1 {
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .container {
            width: 550px;
            height: 550px;
            background-color: #F0EEE6;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            position: relative;
        }
        
        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }
        
        .info {
            margin-top: 20px;
            text-align: center;
            color: #666;
            max-width: 550px;
        }
    </style>
</head>
<body>
    <h1>Particle Flower</h1>
    <div class="container">
        <canvas id="canvas"></canvas>
    </div>
    <div class="info">
        <p>A flowing particle animation inspired by organic forms and natural movement.</p>
        <p><em>12,000 particles dancing in harmony</em></p>
    </div>

    <script src="script.js"></script>
</body>
</html>

// script.js
class ParticleFlower {
    constructor(canvasId) {
        this.canvas = document.getElementById(canvasId);
        this.ctx = this.canvas.getContext('2d');
        this.animationFrame = null;
        this.particles = [];
        this.time = 0;
        
        this.init();
    }
    
    init() {
        // Set canvas size
        const width = this.canvas.width = 550;
        const height = this.canvas.height = 550;
        this.width = width;
        this.height = height;
        this.centerX = width / 2;
        this.centerY = height / 2;
        
        // Constants
        this.PARTICLE_COUNT = 12000;
        this.FORM_SCALE = 2.4;
        
        this.createParticles();
        this.animate();
    }
    
    createParticles() {
        this.particles = [];
        
        for (let i = 0; i < this.PARTICLE_COUNT; i++) {
            const theta = Math.random() * Math.PI * 2;
            const r = Math.pow(Math.random(), 0.5) * this.FORM_SCALE * 0.5 * 150;
            const height = (Math.random() * 2 - 1) * this.FORM_SCALE * 0.3;
            const angle = theta;
            const dist = r / 150;
            
            // Flow calculations
            const flow = Math.sin(angle * 2 + height * 2) * 0.03;
            const counterFlow = Math.cos(angle * 2 - height * 2) * 0.03;
            const blend = (Math.sin(height * Math.PI) + 1) * 0.5;
            const combinedFlow = flow * blend + counterFlow * (1 - blend);
            
            const dx = r * Math.cos(theta);
            const dy = r * Math.sin(theta);
            
            const containment = Math.pow(Math.min(1, dist / (this.FORM_SCALE * 0.8)), 4);
            const pull = containment * 0.1;
            
            this.particles.push({
                x: this.centerX + dx + (dx * combinedFlow) - (dx * pull),
                y: this.centerY + dy + (dy * combinedFlow) - (dy * pull),
                z: height,
                initialR: r,
                initialTheta: theta,
                initialHeight: height
            });
        }
    }
    
    animate() {
        this.time += 0.003;
        
        // Background fade
        this.ctx.fillStyle = 'rgba(240, 238, 230, 0.08)';
        this.ctx.fillRect(0, 0, this.width, this.height);
        
        // Update and draw particles
        this.particles.forEach(particle => {
            const dx = particle.x - this.centerX;
            const dy = particle.y - this.centerY;
            const dist = Math.sqrt(dx * dx + dy * dy) / 150;
            const angle = Math.atan2(dy, dx);
            const height = particle.z / (this.FORM_SCALE * 0.4);
            
            // Flow calculations
            const flow = Math.sin(angle * 2 - this.time * 0.5 + height * 2) * 0.015;
            const counterFlow = Math.cos(angle * 2 + this.time * 0.5 - height * 2) * 0.015;
            const blend = (Math.sin(height * Math.PI) + 1) * 0.5;
            const combinedFlow = flow * blend + counterFlow * (1 - blend);
            
            const containment = Math.pow(Math.min(1, dist / (this.FORM_SCALE * 0.8)), 4);
            const pull = containment * 0.1;
            
            // Update position
            particle.x = particle.x + (dx * combinedFlow) - (dx * pull);
            particle.y = particle.y + (dy * combinedFlow) - (dy * pull);
            particle.z = particle.z + Math.sin(this.time * 0.15 + dist * 2) * 0.01;
            
            // Visual properties
            const depthFactor = 1 + particle.z * 0.5;
            const opacity = 0.35 * depthFactor;
            const size = Math.max(0.001, 0.6 * depthFactor);
            
            // Draw particle
            this.ctx.beginPath();
            this.ctx.arc(particle.x, particle.y, size, 0, Math.PI * 2);
            this.ctx.fillStyle = `rgba(51, 51, 51, ${opacity})`;
            this.ctx.fill();
        });
        
        this.animationFrame = requestAnimationFrame(() => this.animate());
    }
    
    destroy() {
        if (this.animationFrame) {
            cancelAnimationFrame(this.animationFrame);
            this.animationFrame = null;
        }
        this.ctx.clearRect(0, 0, this.width, this.height);
        this.particles = [];
        this.time = 0;
    }
    
    restart() {
        this.destroy();
        this.init();
    }
}

// Initialize when page loads
document.addEventListener('DOMContentLoaded', () => {
    const flower = new ParticleFlower('canvas');
    
    // Optional: Add click to restart
    document.getElementById('canvas').addEventListener('click', () => {
        flower.restart();
    });
    
    // Optional: Handle window resize
    window.addEventListener('resize', () => {
        // Could add responsive behavior here if needed
    });
    
    // Cleanup on page unload
    window.addEventListener('beforeunload', () => {
        flower.destroy();
    });
});

// package.json (for Node.js projects, optional)
{
  "name": "particle-flower",
  "version": "1.0.0",
  "description": "A flowing particle animation inspired by organic forms",
  "main": "script.js",
  "scripts": {
    "start": "echo 'Open index.html in your browser'",
    "dev": "python -m http.server 8000 || python3 -m http.server 8000"
  },
  "keywords": ["animation", "particles", "canvas", "art"],
  "author": "Your Name",
  "license": "MIT"
}

// README.md
# Particle Flower

A mesmerizing particle animation that creates flowing, organic forms reminiscent of a blooming flower.

## Features
- 12,000 particles moving in harmony
- Smooth 60 FPS animation
- Organic, breathing movement patterns
- Click to restart the animation

## How to Run

### On Replit:
1. Create a new HTML/CSS/JS repl
2. Copy the HTML code into `index.html`
3. Copy the JavaScript code into `script.js`
4. Click "Run" to see the animation

### Locally:
1. Save the HTML code as `index.html`
2. Save the JavaScript code as `script.js`
3. Open `index.html` in your web browser

## Technical Details
- Pure JavaScript with HTML5 Canvas
- No external dependencies
- Optimized for performance with efficient particle management
- Responsive design principles

## Inspiration
This piece explores themes of organic growth, natural flow, and the beauty found in mathematical patterns. Each particle follows complex flow equations that create emergent floral patterns.

Click the canvas to restart and see new variations of the particle dance!